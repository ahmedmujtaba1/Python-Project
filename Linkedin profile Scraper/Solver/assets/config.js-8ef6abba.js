import{j as n}from"./utils-177944e6.js";import"./package-292015a2.js";if(location.search.startsWith("?apikey=")&&location.href.startsWith("https://config.nocaptchaai.com")){await chrome.storage.sync.get(null);const c="https://manage.nocaptchaai.com/api/user/get_endpoint",e=new Proxy(new URLSearchParams(window.location.search),{get:(t,a)=>t.get(a)});chrome.storage.sync.set({apikey:e.apikey?.length>0?e.apikey:null,plantype:e.plan?.length>0?e.plan:null,hcaptime:e.hcaptime?.length>0?e.hcaptime:5,endpoint:e.endpoint?.length>0?e.endpoint:null,hcaptime_multi:e.hcaptime_multi!=null?e.hcaptime_multi:1,hcaptime_bbox:e.hcaptime_bbox!=null?e.hcaptime_bbox:1,hCap:e.hcap!=null?e.hcap:!0,reCap:e.recap!=null?e.recap:!0,OCR:e.ocr!=null?e.ocr:!0,debug:e.debug!=null?e.debug:!1}),chrome.storage.sync.get(null,t=>console.table(t));let i=await chrome.storage.sync.get(null);i.apikey.length<0?n("empty apikey"):(async()=>{let t=await fetch(c,{method:"GET",headers:{"Content-Type":"application/json",apikey:i.apikey}});if(t=await t.json(),console.log(t),t.error)n(t.error+`
 noCaptchaAi Extension Config failed ✘`),chrome.storage.sync.set({apikey:""});else if(t.plan==="free"){n(`noCaptchaAi Extension 
 Config Successful ✔️`);const a=[...document.querySelectorAll("[src*=newassets]")];for(const o of a){const s=o.src;o.src="about:blank",setTimeout(function(){o.src=s},10)}}else{if(t.plan,t.custom){chrome.storage.sync.set({plantype:"custom",endpoint:t.custom.includes(e.endpoint)?e.endpoint:t.custom[0]}),console.log((await chrome.storage.sync.get("endpoint")).endpoint),n(`noCaptchaAi Extension Custom plan 
 Config Successful ✔️`);return}chrome.storage.sync.set({plantype:"PRO"}),n(`noCaptchaAi Extension ${t.plan} plan 
 Config Successful ✔️`)}})()}
